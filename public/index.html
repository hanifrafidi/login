<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base href="/">
  <link rel="stylesheet" type="text/css" href="/login/public/output.css" >  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="flex items-center justify-center h-screen bg-discord-gray text-white" >
        <a id="login" href="https://discord.com/api/oauth2/authorize?client_id=1190525999985741914&response_type=token&redirect_uri=http%3A%2F%2Flocalhost%3A5500%2Flogin%2Fdashboard.html&scope=identify">
            <i class="fa-brands fa-discord text-2xl"></i>
            <span>Login with Discord</span>
        </a>
    </div>

    <button class="discord" onclick="signIn()">login discord</button>
    <script>               
        const clientID = '1190525999985741914'
        const clientSecret = 'Lhc2lgacceZN7FVi6Bl3oPPxP0TNjkeO'

        async function signIn() {
            const response = await fetch('https://discord.com/api/v10',
            {
                method: "POST",
                headers : {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                data : {
                    'grant_type': 'authorization_code',                    
                    'redirect_uri': 'http://localhost:5500/login/'
                },
                auth : {
                    'CLIENT_ID': '1190525999985741914',
                    'CLIENT_SECRET' : '937it3ow87i4ery69876wqire'
                },                            
            }
            );
            const movies = await response.json();
            console.log(movies);
        }
    </script>
</body>
</html>